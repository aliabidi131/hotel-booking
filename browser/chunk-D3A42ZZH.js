import{a as X,b as Y,c as Z,d as tt,e as et,f as nt,g as it,h as ot,i as at,j as mt,k as rt}from"./chunk-CCCI6TE4.js";import{a as N,b as j,c as z,d as G}from"./chunk-QPTTTMON.js";import{b as q,d as J}from"./chunk-OUOYKILN.js";import{a as W}from"./chunk-57XUBXQJ.js";import{d as $,h as R}from"./chunk-A7BXMC5C.js";import{a as K,b as Q}from"./chunk-AJRPLBKD.js";import{ea as H,fa as V,ga as F,ha as U}from"./chunk-JJWXYU2O.js";import{$b as M,Aa as g,Bb as E,Gb as n,Hb as i,Ia as B,Ib as x,Jb as s,Kb as p,Mb as T,Oc as O,Pb as C,Rb as u,Sc as P,Vc as I,Zb as v,_b as a,ac as k,bb as r,bc as w,g as b,gc as D,ic as L,kc as A,lc as y,ma as h,ra as S,ub as c,wb as d,za as _}from"./chunk-GQVS24Z7.js";var lt=t=>["/hotels",t];function ct(t,o){t&1&&(n(0,"th",15),a(1,"Hotel"),i())}function dt(t,o){if(t&1&&(n(0,"td",16)(1,"a",17),a(2),i()()),t&2){let e=o.$implicit;r(),d("routerLink",L(2,lt,e.hotelId)),r(),k(" ",e.hotelName," ")}}function st(t,o){t&1&&(n(0,"th",15),a(1,"Dates"),i())}function pt(t,o){if(t&1&&(n(0,"td",16),a(1),i()),t&2){let e=o.$implicit,m=u();r(),w(" ",m.formatDate(e.checkIn)," - ",m.formatDate(e.checkOut)," ")}}function ut(t,o){t&1&&(n(0,"th",15),a(1,"Guests"),i())}function ft(t,o){if(t&1&&(n(0,"td",16),a(1),i()),t&2){let e=o.$implicit;r(),M(e.guests)}}function _t(t,o){t&1&&(n(0,"th",15),a(1,"Room"),i())}function gt(t,o){if(t&1&&(n(0,"td",16),a(1),i()),t&2){let e=o.$implicit;r(),M(e.roomType)}}function Ct(t,o){t&1&&(n(0,"th",15),a(1,"Total"),i())}function kt(t,o){if(t&1&&(n(0,"td",16)(1,"span",18),a(2),i()()),t&2){let e=o.$implicit;r(2),k("$",e.totalPrice||0,"")}}function ht(t,o){t&1&&(n(0,"th",15),a(1,"Status"),i())}function xt(t,o){if(t&1&&(n(0,"td",16)(1,"mat-chip",19),a(2),A(3,"titlecase"),i()()),t&2){let e=o.$implicit,m=u();r(),d("ngClass",m.getStatusClass(e.status)),r(),k(" ",y(3,2,e.status)," ")}}function Mt(t,o){t&1&&(n(0,"th",15),a(1,"Actions"),i())}function bt(t,o){if(t&1){let e=T();n(0,"td",16)(1,"button",20)(2,"mat-icon"),a(3,"more_vert"),i()(),n(4,"mat-menu",null,0)(6,"button",21),C("click",function(){let l=_(e).$implicit,f=u();return g(f.updateStatus(l,"confirmed"))}),n(7,"mat-icon"),a(8,"check_circle"),i(),n(9,"span"),a(10,"Confirm"),i()(),n(11,"button",21),C("click",function(){let l=_(e).$implicit,f=u();return g(f.updateStatus(l,"completed"))}),n(12,"mat-icon"),a(13,"done_all"),i(),n(14,"span"),a(15,"Complete"),i()(),n(16,"button",21),C("click",function(){let l=_(e).$implicit,f=u();return g(f.updateStatus(l,"cancelled"))}),n(17,"mat-icon"),a(18,"cancel"),i(),n(19,"span"),a(20,"Cancel"),i()()()()}if(t&2){let e=o.$implicit,m=v(5);r(),d("matMenuTriggerFor",m),r(5),d("disabled",e.status==="confirmed"),r(5),d("disabled",e.status==="completed"),r(5),d("disabled",e.status==="cancelled")}}function St(t,o){t&1&&x(0,"tr",22)}function Bt(t,o){t&1&&x(0,"tr",23)}function Et(t,o){t&1&&(n(0,"div",14)(1,"mat-icon"),a(2,"book_online"),i(),n(3,"p"),a(4,"No bookings found."),i()())}var Jt=(()=>{class t{constructor(){this.bookings=[],this.bookingUpdated=new B,this.bookingService=h(W),this.snackBar=h(K),this.displayedColumns=["hotel","dates","guests","roomType","total","status","actions"]}formatDate(e){return e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""}getStatusClass(e){return`status-${e}`}updateStatus(e,m){return b(this,null,function*(){try{yield this.bookingService.updateBookingStatus(e.id,m),this.snackBar.open(`Booking ${m}`,"Close",{duration:3e3}),this.bookingUpdated.emit()}catch{this.snackBar.open("Failed to update booking","Close",{duration:3e3})}})}static{this.\u0275fac=function(m){return new(m||t)}}static{this.\u0275cmp=S({type:t,selectors:[["app-booking-list-admin"]],inputs:{bookings:"bookings"},outputs:{bookingUpdated:"bookingUpdated"},standalone:!0,features:[D],decls:26,vars:4,consts:[["statusMenu","matMenu"],[1,"table-container"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","hotel"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dates"],["matColumnDef","guests"],["matColumnDef","roomType"],["matColumnDef","total"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"no-data"],["mat-header-cell",""],["mat-cell",""],[1,"hotel-link",3,"routerLink"],[1,"price"],[3,"ngClass"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disabled"],["mat-header-row",""],["mat-row",""]],template:function(m,l){m&1&&(n(0,"div",1)(1,"table",2),s(2,3),c(3,ct,2,0,"th",4)(4,dt,3,4,"td",5),p(),s(5,6),c(6,st,2,0,"th",4)(7,pt,2,2,"td",5),p(),s(8,7),c(9,ut,2,0,"th",4)(10,ft,2,1,"td",5),p(),s(11,8),c(12,_t,2,0,"th",4)(13,gt,2,1,"td",5),p(),s(14,9),c(15,Ct,2,0,"th",4)(16,kt,3,1,"td",5),p(),s(17,10),c(18,ht,2,0,"th",4)(19,xt,4,4,"td",5),p(),s(20,11),c(21,Mt,2,0,"th",4)(22,bt,21,4,"td",5),p(),c(23,St,1,0,"tr",12)(24,Bt,1,0,"tr",13),i()(),c(25,Et,5,0,"div",14)),m&2&&(r(),d("dataSource",l.bookings),r(22),d("matHeaderRowDef",l.displayedColumns),r(),d("matRowDefColumns",l.displayedColumns),r(),E(25,l.bookings.length===0?25:-1))},dependencies:[I,O,P,R,$,rt,X,Z,it,tt,Y,ot,et,nt,at,mt,V,H,U,F,J,q,G,j,N,z,Q],styles:[".table-container[_ngcontent-%COMP%]{overflow-x:auto;background:#fff;border-radius:8px}table[_ngcontent-%COMP%]{width:100%}.hotel-link[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none;font-weight:500}.hotel-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.price[_ngcontent-%COMP%]{color:#4caf50;font-weight:500}.status-pending[_ngcontent-%COMP%]{background-color:#fff3e0!important;color:#e65100!important}.status-confirmed[_ngcontent-%COMP%]{background-color:#e8f5e9!important;color:#2e7d32!important}.status-cancelled[_ngcontent-%COMP%]{background-color:#ffebee!important;color:#c62828!important}.status-completed[_ngcontent-%COMP%]{background-color:#e3f2fd!important;color:#1565c0!important}.no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#ccc;margin-bottom:16px}"]})}}return t})();export{Jt as a};
