import{a as A}from"./chunk-ZTJU2KEZ.js";import{d as I,h as k}from"./chunk-A7BXMC5C.js";import{b as nt,c as rt}from"./chunk-J2QSAILY.js";import{a as D,b as V,c as G,d as L,e as R,f as j,i as z}from"./chunk-Y2H4V2JF.js";import{a as at,b as ot}from"./chunk-5ETFMH7B.js";import{a as mt,b as lt}from"./chunk-AJRPLBKD.js";import{b as J,d as p,f as H,g as K,j as Q,l as U,o as W,p as X,r as Y,s as Z,t as $,v as tt,y as et,z as it}from"./chunk-BNM7QH6X.js";import"./chunk-QOH27NTF.js";import"./chunk-EJJBCPAK.js";import{ca as O,ea as N,fa as T,ga as q,ha as B}from"./chunk-JJWXYU2O.js";import{$b as h,Gb as e,Hb as i,Ib as u,Pb as _,Qc as E,Vc as F,_b as r,bb as a,c as y,g as P,gc as x,ma as f,ob as g,ra as v,ub as d,wb as o}from"./chunk-GQVS24Z7.js";function st(n,l){n&1&&(e(0,"mat-error"),r(1,"Name is required"),i())}function pt(n,l){n&1&&(e(0,"mat-error"),r(1,"Email is required"),i())}function dt(n,l){n&1&&(e(0,"mat-error"),r(1,"Please enter a valid email"),i())}function ut(n,l){n&1&&(e(0,"mat-error"),r(1,"Password is required"),i())}function ct(n,l){n&1&&(e(0,"mat-error"),r(1,"Password must be at least 6 characters"),i())}function ft(n,l){n&1&&(e(0,"mat-error"),r(1,"Please confirm your password"),i())}function gt(n,l){n&1&&(e(0,"mat-error"),r(1,"Passwords do not match"),i())}function _t(n,l){n&1&&u(0,"mat-spinner",14)}function ht(n,l){n&1&&(e(0,"span"),r(1,"Create Account"),i())}var Rt=(()=>{class n{constructor(){this.fb=f(X),this.authService=f(A),this.snackBar=f(mt),this.hidePassword=g(!0),this.hideConfirmPassword=g(!0),this.isSubmitting=g(!1),this.signupForm=this.fb.group({displayName:["",p.required],email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]],confirmPassword:["",p.required]},{validators:this.passwordMatchValidator})}passwordMatchValidator(s){let m=s.get("password")?.value,t=s.get("confirmPassword")?.value;return m===t?null:{passwordMismatch:!0}}onSubmit(){return P(this,null,function*(){if(this.signupForm.valid){this.isSubmitting.set(!0);try{let s=this.signupForm.value,{confirmPassword:m}=s,t=y(s,["confirmPassword"]);yield this.authService.signup(t),this.snackBar.open("Account created successfully!","Close",{duration:3e3})}catch(m){let t="Signup failed. Please try again.";m?.code==="auth/email-already-in-use"?t="An account with this email already exists.":m?.code==="auth/weak-password"&&(t="Password is too weak."),this.snackBar.open(t,"Close",{duration:3e3})}finally{this.isSubmitting.set(!1)}}})}static{this.\u0275fac=function(m){return new(m||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-signup"]],standalone:!0,features:[x],decls:46,vars:15,consts:[[1,"auth-container"],[1,"auth-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","displayName","placeholder","John Doe"],[4,"ngIf"],["matInput","","type","email","formControlName","email","placeholder","you@example.com"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","confirmPassword",3,"type"],["mat-raised-button","","color","primary","type","submit",1,"full-width","submit-btn",3,"disabled"],["diameter","20",4,"ngIf"],[1,"auth-link"],["routerLink","/login"],["diameter","20"]],template:function(m,t){if(m&1&&(e(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),r(4,"Create Account"),i(),e(5,"mat-card-subtitle"),r(6,"Join us and start booking"),i()(),e(7,"mat-card-content")(8,"form",2),_("ngSubmit",function(){return t.onSubmit()}),e(9,"mat-form-field",3)(10,"mat-label"),r(11,"Full Name"),i(),u(12,"input",4),d(13,st,2,0,"mat-error",5),i(),e(14,"mat-form-field",3)(15,"mat-label"),r(16,"Email"),i(),u(17,"input",6),d(18,pt,2,0,"mat-error",5)(19,dt,2,0,"mat-error",5),i(),e(20,"mat-form-field",3)(21,"mat-label"),r(22,"Password"),i(),u(23,"input",7),e(24,"button",8),_("click",function(){return t.hidePassword.set(!t.hidePassword())}),e(25,"mat-icon"),r(26),i()(),d(27,ut,2,0,"mat-error",5)(28,ct,2,0,"mat-error",5),i(),e(29,"mat-form-field",3)(30,"mat-label"),r(31,"Confirm Password"),i(),u(32,"input",9),e(33,"button",8),_("click",function(){return t.hideConfirmPassword.set(!t.hideConfirmPassword())}),e(34,"mat-icon"),r(35),i()(),d(36,ft,2,0,"mat-error",5)(37,gt,2,0,"mat-error",5),i(),e(38,"button",10),d(39,_t,1,0,"mat-spinner",11)(40,ht,2,0,"span",5),i()()(),e(41,"mat-card-actions")(42,"p",12),r(43," Already have an account? "),e(44,"a",13),r(45,"Sign in"),i()()()()()),m&2){let c,S,C,M,b,w;a(8),o("formGroup",t.signupForm),a(5),o("ngIf",(c=t.signupForm.get("displayName"))==null?null:c.hasError("required")),a(5),o("ngIf",(S=t.signupForm.get("email"))==null?null:S.hasError("required")),a(),o("ngIf",(C=t.signupForm.get("email"))==null?null:C.hasError("email")),a(4),o("type",t.hidePassword()?"password":"text"),a(3),h(t.hidePassword()?"visibility_off":"visibility"),a(),o("ngIf",(M=t.signupForm.get("password"))==null?null:M.hasError("required")),a(),o("ngIf",(b=t.signupForm.get("password"))==null?null:b.hasError("minlength")),a(4),o("type",t.hideConfirmPassword()?"password":"text"),a(3),h(t.hideConfirmPassword()?"visibility_off":"visibility"),a(),o("ngIf",(w=t.signupForm.get("confirmPassword"))==null?null:w.hasError("required")),a(),o("ngIf",t.signupForm.hasError("passwordMismatch")),a(),o("disabled",!t.signupForm.valid||t.isSubmitting()),a(),o("ngIf",t.isSubmitting()),a(),o("ngIf",!t.isSubmitting())}},dependencies:[F,E,k,I,Y,Q,J,H,K,U,W,z,D,R,G,j,L,V,it,et,Z,$,tt,rt,nt,T,O,N,B,q,lt,ot,at],styles:[".auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2)}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px}mat-card-header[_ngcontent-%COMP%]{display:block;text-align:center;margin-bottom:24px}mat-card-title[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:8px}mat-card-subtitle[_ngcontent-%COMP%]{color:#666}.full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}.submit-btn[_ngcontent-%COMP%]{margin-top:16px;padding:8px;font-size:1rem}.submit-btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block}mat-card-actions[_ngcontent-%COMP%]{padding-top:16px;border-top:1px solid #eee}.auth-link[_ngcontent-%COMP%]{text-align:center;color:#666;margin:0}.auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none;font-weight:500}.auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return n})();export{Rt as SignupComponent};
