import{a as P}from"./chunk-ZTJU2KEZ.js";import{c as y,d as v,h as _}from"./chunk-A7BXMC5C.js";import{b as U,c as X}from"./chunk-J2QSAILY.js";import{a as B,b as E,c as L,d as N,e as O,f as T,i as D}from"./chunk-Y2H4V2JF.js";import{a as Y,b as Z}from"./chunk-5ETFMH7B.js";import{a as $,b as tt}from"./chunk-AJRPLBKD.js";import{b as G,d,f as R,g as A,j as V,l as j,o as q,p as z,r as H,s as W,v as J,y as K,z as Q}from"./chunk-BNM7QH6X.js";import"./chunk-QOH27NTF.js";import"./chunk-EJJBCPAK.js";import{ca as w,ea as x,fa as F,ga as k,ha as I}from"./chunk-JJWXYU2O.js";import{$b as M,Gb as t,Hb as i,Ib as s,Pb as u,Qc as b,Vc as C,_b as n,bb as a,g as f,gc as S,ma as m,ob as p,ra as g,ub as h,wb as r}from"./chunk-GQVS24Z7.js";function nt(o,et){o&1&&s(0,"mat-spinner",12)}function ot(o,et){o&1&&(t(0,"span"),n(1,"Sign In"),i())}var It=(()=>{class o{constructor(){this.fb=m(z),this.authService=m(P),this.snackBar=m($),this.router=m(y),this.hidePassword=p(!0),this.isSubmitting=p(!1),this.loginForm=this.fb.group({email:["",[d.required,d.email]],password:["",d.required]})}onSubmit(){return f(this,null,function*(){if(this.loginForm.valid){this.isSubmitting.set(!0);try{yield this.authService.login(this.loginForm.value),this.snackBar.open("Successfully signed in","Close",{duration:3e3}),this.router.navigate(["/"])}catch{this.snackBar.open(this.authService.errorMessage()||"Login failed","Close",{duration:4e3})}finally{this.isSubmitting.set(!1)}}})}static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275cmp=g({type:o,selectors:[["app-login"]],standalone:!0,features:[S],decls:28,vars:6,consts:[[1,"auth-container"],[1,"auth-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","you@example.com"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"full-width","submit-btn",3,"disabled"],["diameter","20",4,"ngIf"],[4,"ngIf"],[1,"auth-link"],["routerLink","/signup"],["diameter","20"]],template:function(l,e){l&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),n(4,"Welcome Back"),i(),t(5,"mat-card-subtitle"),n(6,"Sign in to your account"),i()(),t(7,"mat-card-content")(8,"form",2),u("ngSubmit",function(){return e.onSubmit()}),t(9,"mat-form-field",3)(10,"mat-label"),n(11,"Email"),i(),s(12,"input",4),i(),t(13,"mat-form-field",3)(14,"mat-label"),n(15,"Password"),i(),s(16,"input",5),t(17,"button",6),u("click",function(){return e.hidePassword.set(!e.hidePassword())}),t(18,"mat-icon"),n(19),i()()(),t(20,"button",7),h(21,nt,1,0,"mat-spinner",8)(22,ot,2,0,"span",9),i()()(),t(23,"mat-card-actions")(24,"p",10),n(25," Don't have an account? "),t(26,"a",11),n(27,"Sign up"),i()()()()()),l&2&&(a(8),r("formGroup",e.loginForm),a(8),r("type",e.hidePassword()?"password":"text"),a(3),M(e.hidePassword()?"visibility_off":"visibility"),a(),r("disabled",!e.loginForm.valid||e.isSubmitting()),a(),r("ngIf",e.isSubmitting()),a(),r("ngIf",!e.isSubmitting()))},dependencies:[C,b,_,v,H,V,G,R,A,j,q,D,B,O,L,T,N,E,Q,K,W,J,X,U,F,w,x,I,k,tt,Z,Y],styles:[".auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2)}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px}mat-card-header[_ngcontent-%COMP%]{display:block;text-align:center;margin-bottom:24px}.full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}.submit-btn[_ngcontent-%COMP%]{margin-top:16px;padding:8px;font-size:1rem}"]})}}return o})();export{It as LoginComponent};
